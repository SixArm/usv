# よくある質問

## USVは簡単ですか？

はい。カンマ区切り値 (CSV)、タブ区切り値 (TSV)、ASCII区切り値 (ASV) をご存知なら、USVのこともほとんど理解できます。

## USVは標準ですか？

その予定です。できる限り早期の標準化を目指しています。

USVは<a href="https://www.iana.org/assignments/media-types/text/tab-separated-values">IANA TSV</a>のような標準化を目指しています。

USVの標準化は、Joel Parker Henderson (joel@joelparkerhenderson.com) が主導しています。建設的なご意見を歓迎します。

## CSVやTSVではなくUSVを選ぶメリットは？

データの内容にカンマ、タブ、改行などを含めることができます。

データグループ、データベースのテーブル、スプレッドシートのグリッドをデータの内容に使用できます。

データファイル、データベーススキーマ、スプレッドシートのフォリオを含むデータ形式として使用できます。

CSVでは実現できない、一貫性と互換性を備えた標準的なフォーマットとして利用できます。

CSV/TSV/TDFでは必ずしも提供されない、一貫性と互換性を備えた標準的なファイル名の拡張子を利用できます。

## ASVではなくUTFを選ぶメリットは？

データの中身を、人間が読んだり編集したりするのに適したものにすることができます。

USVでは文字幅を持った、通常目に見える文字 (Unicode 241Fなど) を使用します。一方、ASVではゼロ幅の、通常目に見えない文字 (ASCII 31など) を使用します。

ASV文字を、それに対応するUSVの目に見える文字やその他の視覚表現により示してくれるエディターがあることは事実ですが、この方法がサポートされるエディターを実際に見かけることは、あまりありません。

## 機械のみが使用するデータにASVではなくUTFを選ぶメリットは？

人間が読んだり編集したりすることのない、機械のみが使用するデータの場合は、USVとASVのどちらもユニット、フィールド、グループ、ファイルなどが扱えるため、類似しています。

## USVでは特殊文字のエスケープが可能ですか？

いいえ。意図的にそのような処理を行わない決断をしました。バックスラッシュ、アンパサンド、引用符、二重文字などをエスケープする特別な処理はありません。

この決断によって、USVはよりシンプルに使用でき、より速くパースでき、より明瞭に標準化することができます。

文字のエスケープについて調べたところ、エスケープは一部のニーズを解決する一方で、別のニーズに困難を生じさせることがわかりました。CSVのエスケープは、現実の英語のテキストでカンマが頻繁に使われることから、非常に重要なものと考えられます。USVではそのようなニーズは頻繁に発生しません。

## 特殊文字のエスケープがどうしても必要な場合はどうすればよいですか？

どうしても特殊文字のエスケープが必要な場面はあります。例えば、データの中身にUSV文字が含まれる場合などです。

このような目的のためには、より強力な別のフォーマット (JSONやXMLなど) を使用するか、HTMLのアンパサンドエンコーディング (ユニット区切りは「&amp;us;」など) やUnicodeの「バックスラッシュu」エンコーディング (「\u241F」など) といった、USVを用いない独自の内部エンコーディングを作り出すのがよいかもしれません。

## USVでは空白文字を特別に扱いますか？

いいえ。意図的にそのような処理を行わない決断をしました。スペース、タブ、改行などの空白文字に対する特別な処理はありません。

この決断によって、USVはよりシンプルに使用でき、より速くパースでき、より明瞭に標準化することができます。

空白文字の処理について調べたところ、そのような処理は一部のニーズを解決する一方で、別のニーズに困難を生じさせることがわかりました。それを受けて、空白文字の処理は利便性を提供する場面があるものの、必ずしも必要なものではないため、USVの規格から省かれることになりました。

## 空白文字の特別処理が必要な場合は？

どうしても空白文字の特別な処理が必要な場面があります。例えばUSV文字の直前や直後に入れた改行など、データを囲っている空白文字を取り込みたいといったケースです。

このような場合、通常のようにUSVを使用し、後から `trim`、`strip`、`chomp` といった関数を呼び出すなど、独自の空白文字の処理を行うとよいでしょう。
